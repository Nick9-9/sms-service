@using Model.ViewModels.CompanyViewModels;
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer
@model IEnumerable<CompanyViewModel>
@{
    ViewData["Title"] = Localizer["Index"];
}
<!DOCTYPE html>
<html>
<head>
    <title>@Localizer["Index"]</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/vue"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

</head>
<body>
    <h2>@Localizer["Campaign"]</h2>

    <p>
        <a class="btn btn-success" asp-action="Create">@Localizer["Create New"]</a>
    </p>
    <div class="container">
        @*<input type="text" v-model.lazy.trim="name" class="form-control" placeholder="Search for ..." />*@
        <a class="btn btn-primary" asp-action="Get"></a>

        <input type="text" id="inputTable" onkeyup="FilterNameDesc()" placeholder="Search for ..." title="Type in a name and description">


        <div id="tables" >
            <table class="table table-striped table-bordered">
                <thead class="thead-dark">
                    <tr >
                        <td>Name</td>
                        <td>Description</td>
                        <td>Id</td>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="item in timestorege">
                        <td>{{item.name}}</td>
                        <td>{{item.description}}</td>
                        <td>{{item.id}}</td>
                        <td><a class="btn btn-success" v-bind:href="'/Company/Details?companyId='+item.id">@Localizer["Details"]</a>
                        </td>
                    </tr>
                </tbody>
            </table>
         
            @*<a class="btn btn-success" asp-action="Details" asp-route-companyId={{timestorege[14].id}}>@Localizer["Details"]</a>*@
        
        </div>
        @*<table class="table table-striped table-bordered">
            <thead class="thead-dark">
                <tr>
                    <th class="col-md-2">
                        @Html.DisplayNameFor(model => model.Name)
                    </th>
                    <th scope="col" class="col-md-4">
                        @Html.DisplayNameFor(model => model.Description)
                    </th>
                    <th class="col-md-1"></th>
                </tr>
            </thead>
            <tbody >
                @foreach (var item in Model)
                {
                    <tr>
                        <td class="col-md-2">@Html.DisplayFor(modelItem => item.Name)</td>
                        <td class="col-md-6">@Html.DisplayFor(modelItem => item.Description)</td>
                        <td class="col-md-4">
                            <a class="btn btn-success" asp-action="Details" asp-route-companyId="@item.Id">@Localizer["Details"]</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>*@
    </div>
   
    <script>
     

        var Vue1 = new Vue({

            el: "#tables",
            data: {
                timestorege: []
            },
            filters: {},
            mounted() {
                
                        axios({
                            method: 'get',
                            url: '/Company/Get/',
                            data: {
                            }
                        })
                            .then(Companies => {
                                this.timestorege = Companies.data;
                                console.log(Companies.data);
                            })
                            .catch(function (error) {
                                console.log(error);
                            });

                    
                
            }

        });


    </script>
    <script src="~/js/Search.js"></script>
    @*<script src="~/js/CompanyTable.js"></script>*@
</body>
</html>